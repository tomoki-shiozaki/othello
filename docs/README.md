# 📄 オセロアプリ開発ドキュメント

---

## 1. プロジェクト概要

- **プロジェクト名：**  オセロアプリ開発プロジェクト
- **開発目的：**  Djangoを用いて、オセロアプリを楽しく開発する。
- **ターゲットユーザー：**  オセロ好きの人すべて。
- **利用シーンの想定：**  
    - 同じ場所にいる人どうしで対戦する
    - 離れた場所にいる人どうしで対戦する
    - コンピュータ相手に対戦する（この機能は、将来的に作る）
- **開発スコープ（MVP、フル機能版など）：**
    1. 以下の機能の実装を目標とする
    - ユーザーアカウント
        - ユーザーの登録、ログイン、ログアウト、パスワード変更
    - 対戦機能
        - 同じ場所にいる人どうしで対戦する（ローカル対戦と呼ぶ）
        - ログインしていない場合（ログインしていないユーザーをゲストユーザーと呼ぶ）、ローカル対戦のみ可能。
        - 離れた場所にいる人どうしで対戦する（リモート対戦と呼ぶ）
    - パーミッション
        - ローカル対戦では、その場にいる人のみゲームにアクセスできる
        - リモート対戦では、対戦している２人のユーザーしかゲームにアクセスできない


---

## 2. 要件定義

### 2.1 機能要件

| No | 機能名         | 概要                                                   |
|----|----------------|--------------------------------------------------------|
| 1  | ユーザー登録     | ユーザーがメールアドレス、ユーザー名とパスワードを登録 |
| 2  | ログイン         | 登録済みのユーザーがログインできる                     |
| 3  | ログアウト       | ログイン中のユーザーがログアウトする                   |
| 4  | パスワード変更   | メールアドレスを使って、パスワードを変更できる         |
| 5  | ローカル対戦     | ゲスト、ログインユーザーがローカルに対戦できる         |
| 6  | リモート対戦     | ログインユーザーどうしが、リモートで対戦できる         |
| 7  | 勝敗保存機能     | オセロの勝敗を記録する（オプション）                  |
| 8  | 対戦相手一覧     | ログイン中のユーザーを一覧表示する                     |
| 9  | 対戦相手検索     | 対戦相手を、ユーザー名で検索する                       |
| 10 | 対戦申し込み     | 対戦相手一覧画面で、対戦を申し込む                     |
| 11 | 対戦承諾         | 対戦申し込みを承諾する                                 |
| 12 | 対戦部屋作成 | 対戦する部屋(URL)を作る |

### 2.2 非機能要件

- **パフォーマンス要件：**（例：初期表示1秒以内）  
- **セキュリティ要件：**（例：JWTを使った認証）  
- **対応ブラウザ / デバイス：** 
    - レスポンシブデザインとする
- **サポート期間・更新頻度の想定：**

### 2.3 ユースケース図
![ユースケース図](usecase/usecase_diagram/usecase.svg)
[用語](usecase/usecase.md)


---

## 3. 画面設計

### 3.1 画面一覧

| 画面ID | 画面名       | 概要                       | 
|--------|--------------|----------------------------|
| G001   | ホーム画面 | ログイン・ログアウト・対戦選択 | 
| G002   | ローカル対戦画面 | ローカル対戦を行う画面         |
| G003   | リモート対戦待合   | リモート対戦のマッチングを行う画面   |
| G004   | リモート対戦画面 | リモート対戦を行う画面 |

詳細は[UI設計書](ui_design/ui_design.md)をご覧ください（順次作成予定）。

### 3.2 画面遷移図

![画面遷移図](screen_flow/screen_flow_diagram/screen%20flow.svg)

---

## 4. データベース設計

### 4.1 ER図

![ER図](er/er_diagram/er.svg)

### 4.2 テーブル定義

#### ユーザーアカウント テーブル

| カラム名     | 型           | 主キー | NotNull | 概要                             |
|--------------|--------------|--------|---------|----------------------------------|
| `user_id`    | `INT`        | ○      | ○       | ユーザーを一意に識別するID       |
| `email`      | `VARCHAR(255)`|        | ○       | ユーザーのメールアドレス（ユニーク制約） |
| `user_name`  | `VARCHAR(255)`|        | ○       | ユーザーネーム（ユニーク制約）|
| `password`   | `VARCHAR(255)`|        | ○       | ハッシュ化されたパスワード       |


#### ゲーム テーブル

| カラム名     | 型             | 主キー | NotNull | 概要                           |
|--------------|----------------|--------|---------|--------------------------------|
| `game_id`    | `INT`          | ○      | ○       | ゲームを一意に識別するID       |
| `player1_id` | `INT`          |        | ○       | プレイヤー1のユーザーID（外部キー） |
| `player2_id` | `INT`          |        | ○       | プレイヤー2のユーザーID（外部キー） |
| `turn`       | `VARCHAR(255)` |        | ○       | 現在の手番を表す（プレイヤーID等） |
| `board`      | `JSON`         |        | ○       | 現在の盤面の状態（JSON形式）    |

詳細は[DB設計書](DB_design/DB_design.md)をご覧ください。

---

## 5. API仕様書
- APIは使用しない

---

## 6. 開発スケジュール（マイルストーン）

| フェーズ         | 期間              | 作業内容                             |
|------------------|-------------------|--------------------------------------|
| 要件定義         | 2025/04/10〜      | 機能の洗い出し、構想固め             |
| 設計             | 2025/04/10〜      | 画面設計・DB設計・API設計            |
| 実装             | 2025/03〜      | フロント・バックエンド実装           |
| テスト           | 2025/03〜      | 動作検証・バグ修正                   |
| デプロイ・公開   | 2025/03〜      | 本番環境への公開                     |

---

## 7. デプロイ・運用

- Renderでデプロイする。
    [othello](https://othello-d46f.onrender.com/)

---

## 8. 保守・改善方針

- **障害発生時の対応手順：**  
- **ユーザーからのフィードバック収集方法：**  
- **機能追加の優先度ルール：**
    1. ローカル対戦（セッション機能を実装する）

---

## 🔚 備考欄

- 利用ライブラリや依存関係の記載  
- バージョン管理ルール（Gitの運用ルール）  
- 今後のアップデート構想など

